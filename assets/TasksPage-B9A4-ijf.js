import{R as j,r as a,T as h,j as e,H as p,C as u}from"./index-D-1RMry4.js";function k({task:s}){const{updateTask:n}=a.useContext(h),r=t=>{const o={...s,title:t.target.value};n(o)},i=()=>{const t={...s,completed:!s.completed};n(t)};return e.jsxs("article",{className:"task-card",children:[e.jsx("input",{className:"card-title",value:s.title,onChange:r}),e.jsx("input",{type:"checkbox",checked:s.completed,onChange:i})]})}const C=j.memo(k),T=()=>Date.now().toString(36)+Math.random().toString(36).slice(2);function N(){const{addTask:s}=a.useContext(h),[n,r]=a.useState(""),i=a.useRef(),t=c=>{r(c.target.value)},o=c=>{if(c.preventDefault(),!n)return;const d={id:T(),title:n,completed:!1};s(d),r("")};return e.jsxs("form",{className:"task-form",onSubmit:o,children:[e.jsx("input",{ref:i,className:"task-title",placeholder:"Nueva Tarea",value:n,onChange:t}),e.jsx("button",{className:"create-btn",children:"+"})]})}function v(){const{tasks:s,getTasks:n,hasLoaded:r,hasError:i}=a.useContext(h),t=a.useRef(0);a.useEffect(()=>{t.current=t.current+1});const o=()=>{const[l,x]=a.useState(1);return{counter:l,increase:()=>x(l+1),decrease:()=>x(l-1)}},c=o(),d=o();a.useEffect(()=>{n()},[]);const m=s.map(l=>e.jsx("li",{children:e.jsx(C,{task:l})},l.id));return e.jsxs(e.Fragment,{children:[e.jsx(p,{}),e.jsxs("h2",{children:[t.current," "]}),e.jsxs("section",{id:"tasks-page",children:[e.jsx("h2",{className:"title","data-testid":"tasks-title",children:"Tasks"}),e.jsx("div",{className:"counters",children:e.jsxs("div",{className:"counter",children:[e.jsx("h3",{className:"counter-title",children:"Tareas"}),e.jsxs("div",{className:"btns",children:[e.jsx("button",{onClick:c.decrease,children:" - "}),e.jsx("h3",{children:c.counter}),e.jsx("button",{onClick:c.increase,children:" + "})]})]})}),e.jsx("div",{className:"counters",children:e.jsxs("div",{className:"counter",children:[e.jsx("h3",{className:"counter-title",children:"Completadas"}),e.jsxs("div",{className:"btns",children:[e.jsx("button",{onClick:d.decrease,children:" - "}),e.jsx("h3",{children:d.counter}),e.jsx("button",{onClick:d.increase,children:" + "})]})]})}),e.jsxs("ul",{className:"task-list",children:[e.jsx("li",{children:e.jsx(N,{})}),i?e.jsx("h2",{"data-testid":"error-msg",children:"No se han podido obtener las tareas"}):r?m:e.jsx("h2",{"data-testid":"loading-msg",children:"Cargando..."})]})]}),e.jsxs(u,{className:"footer",children:[e.jsx(u.Title,{className:"footer-title",children:"Task App"}),e.jsx(u.SocialMedia,{className:"social-media",children:"Facebook Instagram X"}),e.jsx(u.Copyright,{className:"copyright",children:"Â©  Task App"})]})]})}export{v as default};
